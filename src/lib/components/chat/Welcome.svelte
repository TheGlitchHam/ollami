<script>
      import {  ollamaIsActivated  } from "$lib/stores/states";
      import { currentModel } from "$lib/stores/models";
  import Chevron from "../icons/Chevron.svelte";
</script>

{#if $ollamaIsActivated}
<div id="welcome" class="w-full max-w-lg mx-auto flex flex-col items-center text-center h-full justify-center">
    <svg width="80" class="mb-10 shadow-lg rounded-lg" viewBox="0 0 167 167" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="167" height="167" rx="30" fill="white"/>
        <g clip-path="url(#clip0_1883_929)">
        <path d="M120.771 167C122.805 163.007 122.585 158.786 121.626 154.649C120.958 151.764 119.812 148.964 118.633 146.229C117.698 144.057 117.721 142.826 119.388 141.144C121.977 138.535 122.662 135.143 123.052 131.72C123.554 127.336 123.393 122.945 121.763 118.772C121.148 117.197 120.213 115.723 119.278 114.301C118.075 112.48 118.062 110.898 119.465 109.304C124.866 103.175 125.164 96.3125 122.144 89.123C120.133 84.3322 116.772 80.6257 111.758 78.9108C109.674 78.1969 107.302 77.9767 105.087 78.0801C102.04 78.2236 101.429 77.87 99.8623 75.1943C96.3147 69.1324 90.8996 65.7228 83.8377 65.8596C76.5586 65.9997 71.0467 69.4661 67.7462 76.1051C66.9077 77.7932 65.6049 78.4304 63.2531 78.0601C60.6475 77.6498 58.1254 77.9267 55.7636 79.0343C48.371 82.4973 44.693 88.5458 44.075 96.496C43.6908 101.417 45.1974 105.784 48.6449 109.44C49.9477 110.822 50.0112 112.617 48.7952 114.148C45.1306 118.765 44.4992 124.16 44.8867 129.725C45.0738 132.4 45.7152 135.076 46.4535 137.665C46.8142 138.929 47.7463 140.11 48.6482 141.124C50.2183 142.893 50.4388 144.107 49.3431 146.219C46.4034 151.88 44.9769 157.825 46.2263 164.204C46.4134 165.165 46.8944 166.072 47.2385 167.003H39.5619C38.072 159.657 38.8403 152.551 41.77 145.655C41.9704 145.185 42.0373 144.421 41.7867 144.034C39.4851 140.44 38.2925 136.484 37.9718 132.283C37.4941 126.028 37.6845 119.806 40.5808 114.058C41.3591 112.513 41.2522 111.526 40.4104 110.081C34.7849 100.459 36.2514 87.6517 43.8311 79.2645C44.7999 78.1936 45.772 77.0759 46.9312 76.2419C47.95 75.5079 47.95 74.7573 47.8097 73.6864C46.8944 66.6436 46.6071 59.5842 48.9723 52.7684C49.8441 50.2595 51.1904 47.7574 52.8941 45.7323C55.9407 42.1125 60.6776 42.1626 64.095 45.4521C66.6605 47.9209 68.0602 51.0636 68.9622 54.4164C69.6637 57.0254 70.108 59.7077 70.716 62.5768C79.4716 57.4324 88.4309 57.3757 97.3101 62.6035C97.8847 59.8344 98.1987 57.1221 99.0472 54.5899C99.9191 51.991 100.988 49.3421 102.541 47.1102C106.497 41.4353 113.071 41.7522 116.762 47.6173C119.027 51.2104 120.099 55.2171 120.514 59.4041C120.998 64.3416 120.941 69.2659 120.176 74.1868C120.086 74.7673 120.54 75.638 121.018 76.0651C128.655 82.9043 132.002 91.3849 130.739 101.554C130.312 104.99 129.022 108.219 127.044 111.099C126.557 111.806 126.543 112.246 126.944 113.007C129.052 116.994 130.054 121.281 130.185 125.785C130.338 131.096 130.308 136.474 127.652 141.198C126.153 143.86 126.286 145.918 127.302 148.637C129.526 154.573 129.754 160.775 128.461 167H120.774H120.771ZM54.6312 71.6613C56.8292 71.371 58.7935 71.0407 60.7744 70.8739C62.7988 70.7038 63.6974 69.9732 63.6006 67.9814C63.4569 64.9955 63.3367 61.9896 62.8656 59.0471C62.4013 56.1546 61.5227 53.3322 59.6253 50.9501C58.8703 50.0026 58.1454 49.9893 57.5241 50.9735C56.9061 51.9543 56.3081 52.9785 55.924 54.0628C53.8729 59.8411 53.7927 65.7662 54.6312 71.6646V71.6613ZM113.428 71.6279C113.555 70.16 113.772 68.5152 113.829 66.8672C113.986 62.1798 113.625 57.5391 111.741 53.1754C111.264 52.0678 110.265 51.187 109.503 50.1995C108.698 51.137 107.659 51.9577 107.128 53.0319C104.709 57.9361 104.212 63.2307 104.456 68.5953C104.509 69.8063 105.12 70.8973 106.871 70.904C108.955 70.914 111.036 71.341 113.432 71.6246L113.428 71.6279Z" fill="black"/>
        <path d="M83.9249 124.964C79.6991 125.084 75.6303 124.627 71.8655 122.452C64.4561 118.175 62.5887 109.524 67.6463 102.621C74.9321 92.6827 92.6137 92.4625 100.097 102.218C106.096 110.038 103.09 120.23 93.7428 123.583C92.1961 124.136 90.5459 124.483 88.9157 124.71C87.2721 124.937 85.5918 124.89 83.9249 124.967V124.964ZM85.7321 120.03C88.4514 120.256 91.0436 119.756 93.4555 118.485C99.1077 115.509 100.11 108.89 95.6068 104.409C89.821 98.6512 79.8895 98.1674 73.509 103.335C70.2152 106.004 68.8389 109.928 69.9981 113.344C71.2107 116.92 75.3296 119.776 79.7659 120.01C81.7502 120.113 83.7445 120.026 85.7321 120.026V120.03Z" fill="black"/>
        <path d="M64.6432 100.363C64.6432 103.359 62.5219 105.717 59.8461 105.694C57.1469 105.671 55.2629 103.842 55.2695 101.25C55.2762 98.2908 57.5779 95.8321 60.2971 95.8821C62.8426 95.9255 64.6432 97.7804 64.6432 100.363Z" fill="black"/>
        <path d="M112.747 101.357C112.714 103.926 110.783 105.714 108.067 105.694C105.425 105.674 103.354 103.269 103.377 100.256C103.397 97.7172 105.285 95.8622 107.827 95.8822C110.549 95.9023 112.784 98.3911 112.747 101.357Z" fill="black"/>
        <path d="M83.9482 115.209C82.1476 115.229 81.523 114.448 81.9105 112.59C82.1309 111.536 82.0842 110.712 80.9417 110.114C79.8126 109.524 79.1745 108.46 79.8761 107.202C80.5843 105.931 81.7301 106.151 82.9327 106.555C83.5173 106.752 84.2756 106.742 84.8602 106.548C86.0661 106.144 87.2119 105.948 87.9268 107.202C88.5949 108.37 88.0437 109.457 86.9848 110.021C85.712 110.698 85.7087 111.582 85.9492 112.78C86.2833 114.458 85.6118 115.192 83.9482 115.212V115.209Z" fill="black"/>
        </g>
        <defs>
        <clipPath id="clip0_1883_929">
        <rect width="94" height="124" fill="white" transform="translate(37 43)"/>
        </clipPath>
        </defs>
        </svg>
    <h1 class="text-3xl  mb-5">The Hub for open source LLMs.<br>Directly on your computer</h1>
    <p class="opacity-50 mb-5">Chat with hundred of LLM available</p>
    <div class="w-full border flex justify-between border-black-200 dark:border-black-700 items-center gap-2 bg-white dark:bg-black-700 rounded-xl transition-shadow hover:shadow px-4 pr-2 py-2">
        <span class="shrink-0 text-sm dark:text-black-200 text-black-500">You are chating with</span>
        <button class="p-2 border dark:border-black-500 border-black-200 rounded-lg flex items-center justify-between gap-1 w-full">
          <div class="flex items-center gap-2">
            <img src="/icons/models/{$currentModel.icon}" alt="" class="w-5">
            <span class="text-black-400">{$currentModel.name} /</span>  <span class="font-semibold">{$currentModel.image}</span> 
          </div> 
          <Chevron class="w-4 h-4" />
        </button>
    </div>
</div>
{:else}
<div class="w-full max-w-xl mx-auto flex flex-col items-center text-center h-full justify-center">
    <svg width="100" class="mb-10" viewBox="0 0 204 188" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M126.548 188C129.621 181.945 129.288 175.547 127.839 169.275C126.83 164.9 125.099 160.656 123.318 156.508C121.905 153.215 121.94 151.349 124.458 148.8C128.369 144.844 129.404 139.7 129.994 134.51C130.751 127.864 130.509 121.208 128.046 114.88C127.118 112.492 125.705 110.257 124.292 108.102C122.475 105.34 122.455 102.943 124.574 100.525C132.734 91.2331 133.184 80.8286 128.622 69.9284C125.584 62.6649 120.507 57.0453 112.932 54.4455C109.783 53.363 106.201 53.0292 102.855 53.186C98.2525 53.4035 97.329 52.8673 94.9622 48.8107C89.603 39.6201 81.4228 34.4507 70.7548 34.6581C59.7587 34.8706 51.4322 40.126 46.4464 50.1916C45.1797 52.751 43.2117 53.7171 39.659 53.1556C35.7228 52.5335 31.9128 52.9533 28.345 54.6326C17.1774 59.8829 11.6213 69.0533 10.6878 81.1068C10.1074 88.5675 12.3833 95.1886 17.5912 100.732C19.5593 102.826 19.6552 105.548 17.8183 107.869C12.2824 114.87 11.3286 123.049 11.914 131.486C12.1966 135.542 13.1655 139.599 14.2808 143.524C14.8258 145.441 16.2337 147.232 17.5962 148.769C19.968 151.45 20.3011 153.291 18.6459 156.493C14.2051 165.077 12.0503 174.09 13.9376 183.761C14.2202 185.218 14.9469 186.594 15.4667 188.005H3.8701C1.61942 176.867 2.78008 166.093 7.20575 155.638C7.50854 154.925 7.60946 153.767 7.23099 153.18C3.75403 147.732 1.95248 141.733 1.46802 135.365C0.746393 125.881 1.03404 116.448 5.40924 107.733C6.58505 105.391 6.42357 103.894 5.15188 101.703C-3.34622 87.1158 -1.13086 67.6977 10.3194 54.9816C11.7828 53.358 13.2513 51.6635 15.0024 50.399C16.5416 49.2862 16.5416 48.1481 16.3296 46.5245C14.9469 35.8468 14.5129 25.1438 18.0857 14.8101C19.4028 11.0064 21.4365 7.2128 24.0102 4.14252C28.6125 -1.34553 35.7682 -1.26966 40.9307 3.71764C44.8063 7.46065 46.9207 12.2254 48.2833 17.3088C49.343 21.2642 50.0142 25.331 50.9326 29.6809C64.1592 21.8813 77.6935 21.7953 91.1068 29.7214C91.9748 25.5232 92.4492 21.4109 93.7309 17.5718C95.048 13.6315 96.6629 9.6154 99.0094 6.23152C104.984 -2.37233 114.916 -1.89181 120.492 7.00036C123.913 12.4479 125.533 18.5227 126.159 24.8707C126.891 32.3567 126.805 39.8225 125.649 47.2832C125.513 48.1633 126.199 49.4835 126.921 50.1309C138.457 60.5 143.513 73.3578 141.606 88.7749C140.96 93.9848 139.012 98.881 136.025 103.246C135.288 104.318 135.268 104.986 135.873 106.139C139.057 112.184 140.571 118.684 140.768 125.512C141 133.565 140.955 141.718 136.943 148.88C134.677 152.917 134.879 156.038 136.413 160.16C139.774 169.158 140.117 178.561 138.164 188H126.553H126.548ZM26.6343 43.4542C29.9548 43.0141 32.9221 42.5134 35.9146 42.2605C38.9727 42.0025 40.3302 40.8948 40.1838 37.8751C39.9668 33.3481 39.7852 28.7907 39.0736 24.3295C38.3722 19.9441 37.045 15.6649 34.1786 12.0534C33.0382 10.6169 31.9431 10.5967 31.0045 12.0888C30.0709 13.5759 29.1676 15.1287 28.5873 16.7726C25.4888 25.5333 25.3677 34.5165 26.6343 43.4592V43.4542ZM115.456 43.4036C115.647 41.178 115.975 38.6844 116.061 36.1857C116.298 29.079 115.753 22.0432 112.907 15.4272C112.186 13.7479 110.677 12.4125 109.526 10.9153C108.31 12.3367 106.74 13.581 105.938 15.2097C102.285 22.6451 101.533 30.6723 101.901 38.8058C101.982 40.6419 102.905 42.2959 105.55 42.306C108.698 42.3212 111.842 42.9686 115.461 43.3986L115.456 43.4036Z" fill="currentColor"/>
        <path d="M70.8866 124.268C64.503 124.45 58.3565 123.757 52.6692 120.459C41.4764 113.974 38.6554 100.859 46.2957 90.3935C57.3018 75.3254 84.0123 74.9916 95.3162 89.7815C104.379 101.638 99.8377 117.09 85.7179 122.174C83.3815 123.013 80.8886 123.539 78.4259 123.883C75.9431 124.227 73.4048 124.156 70.8866 124.273V124.268ZM73.6167 116.787C77.7245 117.131 81.6405 116.372 85.284 114.445C93.8224 109.933 95.3363 99.8977 88.5338 93.1047C79.7935 84.3744 64.7906 83.641 55.152 91.476C50.1763 95.5225 48.0972 101.471 49.8483 106.65C51.6801 112.073 57.9023 116.402 64.6039 116.756C67.6015 116.913 70.6141 116.782 73.6167 116.782V116.787Z" fill="currentColor"/>
        <path d="M70.9214 109.478C68.2014 109.508 67.2577 108.324 67.8431 105.507C68.1762 103.909 68.1055 102.659 66.3796 101.754C64.674 100.859 63.7101 99.2452 64.7698 97.3383C65.8397 95.4111 67.5706 95.7449 69.3873 96.357C70.2704 96.6554 71.4159 96.6402 72.299 96.3469C74.1208 95.7348 75.8517 95.4364 76.9316 97.3383C77.9409 99.1086 77.1082 100.758 75.5085 101.612C73.5859 102.639 73.5808 103.98 73.9442 105.795C74.4488 108.34 73.4345 109.452 70.9214 109.483V109.478Z" fill="currentColor"/>
        <path d="M29.6797 82.8162C32.3328 81.2833 38.6755 78.5108 42.8208 79.6839" stroke="currentColor" stroke-width="6" stroke-linecap="round"/>
        <path d="M100 78.7383C103.051 79.0171 109.831 80.4121 112.54 83.762" stroke="currentColor" stroke-width="6" stroke-linecap="round"/>
        <path d="M150.533 52C150.433 52 150.319 51.8624 150.191 51.5871C150.064 51.3032 150 51.0495 150 50.8258C150 50.7398 150.023 50.6538 150.068 50.5677L157.186 41.6516H150.97C150.797 41.6516 150.674 41.6 150.601 41.4968C150.528 41.3849 150.492 41.2086 150.492 40.9677V40.6839C150.492 40.443 150.528 40.271 150.601 40.1677C150.674 40.0559 150.797 40 150.97 40H159.495C159.604 40 159.713 40.1419 159.822 40.4258C159.932 40.7097 159.986 40.9634 159.986 41.1871C159.986 41.2645 159.968 41.3462 159.932 41.4323L152.842 50.3484H159.522C159.695 50.3484 159.818 50.4043 159.891 50.5161C159.964 50.6194 160 50.7914 160 51.0323V51.3161C160 51.5484 159.964 51.7204 159.891 51.8323C159.818 51.9441 159.695 52 159.522 52H150.533Z" fill="currentColor"/>
        <path d="M168.746 44C168.606 44 168.446 43.805 168.268 43.4151C168.089 43.0129 168 42.6534 168 42.3366C168 42.2147 168.032 42.0928 168.096 41.971L178.06 29.3398H169.358C169.116 29.3398 168.944 29.2667 168.842 29.1204C168.74 28.962 168.689 28.7122 168.689 28.371V27.9688C168.689 27.6276 168.74 27.3839 168.842 27.2376C168.944 27.0792 169.116 27 169.358 27H181.292C181.445 27 181.598 27.2011 181.751 27.6032C181.904 28.0054 181.981 28.3649 181.981 28.6817C181.981 28.7914 181.955 28.9072 181.904 29.029L171.978 41.6602H181.331C181.573 41.6602 181.745 41.7394 181.847 41.8978C181.949 42.0441 182 42.2878 182 42.629V43.0312C182 43.3602 181.949 43.6039 181.847 43.7624C181.745 43.9208 181.573 44 181.331 44H168.746Z" fill="currentColor"/>
        <path d="M185.066 24C184.865 24 184.638 23.7247 184.383 23.1742C184.128 22.6065 184 22.0989 184 21.6516C184 21.4796 184.046 21.3075 184.137 21.1355L198.372 3.30323H185.94C185.594 3.30323 185.348 3.2 185.202 2.99355C185.056 2.76989 184.984 2.4172 184.984 1.93548V1.36774C184.984 0.886022 185.056 0.541935 185.202 0.335484C185.348 0.111828 185.594 0 185.94 0H202.989C203.208 0 203.426 0.283871 203.645 0.851613C203.863 1.41935 203.973 1.92688 203.973 2.37419C203.973 2.52903 203.936 2.69247 203.863 2.86452L189.683 20.6968H203.044C203.39 20.6968 203.636 20.8086 203.781 21.0323C203.927 21.2387 204 21.5828 204 22.0645V22.6323C204 23.0968 203.927 23.4409 203.781 23.6645C203.636 23.8882 203.39 24 203.044 24H185.066Z" fill="currentColor"/>
        </svg>
        
   <h1 class="text-2xl mb-2">Ollama is disconnected</h1>
   <p>Please install <a href="https://ollama.com/" target="_parent" class="underline">Ollama</a> or launch the application</p>
</div>
{/if}

<style>
#welcome {
    animation: appear 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    animation-fill-mode: backwards;
}

@keyframes appear {
    0% {
        transform: translateY(1rem);
        opacity: 0;
    }
    100% {
        transform: translateY(0);
        opacity: 1;
    }
}
</style>